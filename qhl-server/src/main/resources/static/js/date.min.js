!function(a){a.fn.date=function(b,c,d){function B(){u.refresh(),v.refresh(),w.refresh(),E(),u.scrollTo(0,40*o,100,!0),v.scrollTo(0,40*p-40,100,!0),w.scrollTo(0,40*q-40,100,!0)}function C(){x.refresh(),y.refresh(),z.refresh(),r>12&&(z.scrollTo(0,40*q-40,100,!0),r=r-12-1),x.scrollTo(0,40*r,100,!0),y.scrollTo(0,40*s,100,!0),r=parseInt(h.getHours())}function D(){i=1,j=1,k=1}function E(){return A.curdate?!1:""===e.val()?!1:(o=parseInt(e.val().substr(2,2)),p=parseInt(e.val().substr(5,2)),void(q=parseInt(e.val().substr(8,2))))}function F(){D(),a("#dateconfirm").unbind("click").click(function(){var b=a("#yearwrapper ul li:eq("+i+")").html().substr(0,a("#yearwrapper ul li:eq("+i+")").html().length-1)+"-"+a("#monthwrapper ul li:eq("+j+")").html().substr(0,a("#monthwrapper ul li:eq("+j+")").html().length-1)+"-"+a("#daywrapper ul li:eq("+Math.round(k)+")").html().substr(0,a("#daywrapper ul li:eq("+Math.round(k)+")").html().length-1);g&&(1===Math.round(n)?a("#Hourwrapper ul li:eq("+l+")").html(parseInt(a("#Hourwrapper ul li:eq("+l+")").html().substr(0,a("#Hourwrapper ul li:eq("+l+")").html().length-1))+12):a("#Hourwrapper ul li:eq("+l+")").html(parseInt(a("#Hourwrapper ul li:eq("+l+")").html().substr(0,a("#Hourwrapper ul li:eq("+l+")").html().length-1))),b+=" "+a("#Hourwrapper ul li:eq("+l+")").html().substr(0,a("#Minutewrapper ul li:eq("+l+")").html().length-1)+":"+a("#Minutewrapper ul li:eq("+m+")").html().substr(0,a("#Minutewrapper ul li:eq("+m+")").html().length-1),n=0),void 0===c?f?e.val(b):e.html(b):c(b),a("#datePage").hide(),a("#dateshadow").hide()}),a("#datecancle").click(function(){a("#datePage").hide(),a("#dateshadow").hide()})}function G(){a("#datePage").show(),a("#dateshadow").show()}function H(){var b=a("#yearwrapper ul li:eq("+i+")").html().substr(0,a("#yearwrapper ul li:eq("+i+")").html().length-1),c=a("#monthwrapper ul li:eq("+j+")").html().substr(0,a("#monthwrapper ul li:eq("+j+")").html().length-1);u=new iScroll("yearwrapper",{snap:"li",vScrollbar:!1,onScrollEnd:function(){i=this.y/40*-1+1,A.endday=K(b,c),a("#daywrapper ul").html(Q()),w.refresh()}}),v=new iScroll("monthwrapper",{snap:"li",vScrollbar:!1,onScrollEnd:function(){j=this.y/40*-1+1,A.endday=K(b,c),a("#daywrapper ul").html(Q()),w.refresh()}}),w=new iScroll("daywrapper",{snap:"li",vScrollbar:!1,onScrollEnd:function(){k=this.y/40*-1+1}})}function I(){J(),N(),a("#datescroll_datetime").show(),a("#Hourwrapper ul").html(R()),a("#Minutewrapper ul").html(S()),a("#Secondwrapper ul").html(T())}function J(){x=new iScroll("Hourwrapper",{snap:"li",vScrollbar:!1,onScrollEnd:function(){l=Math.round(this.y/40*-1)+1,x.refresh()}}),y=new iScroll("Minutewrapper",{snap:"li",vScrollbar:!1,onScrollEnd:function(){m=Math.round(this.y/40*-1)+1,x.refresh()}}),z=new iScroll("Secondwrapper",{snap:"li",vScrollbar:!1,onScrollEnd:function(){n=Math.round(this.y/40*-1),x.refresh()}})}function K(a,b){var c=a,d=b++;b>12&&(d-=12,c++);var e=new Date(c,d,1);return new Date(e.getTime()-864e5).getDate()}function L(){M(),a("#yearwrapper ul").html(O()),a("#monthwrapper ul").html(P()),a("#daywrapper ul").html(Q())}function M(){var b='<div id="dateshadow"></div><div id="datePage" class="page"><section><div id="datetitle"><h1>\u8bf7\u9009\u62e9\u65e5\u671f</h1></div><div id="datemark"><a id="markyear"></a><a id="markmonth"></a><a id="markday"></a></div><div id="timemark"><a id="markhour"></a><a id="markminut"></a><a id="marksecond"></a></div><div id="datescroll"><div id="yearwrapper"><ul></ul></div><div id="monthwrapper"><ul></ul></div><div id="daywrapper"><ul></ul></div></div><div id="datescroll_datetime"><div id="Hourwrapper"><ul></ul></div><div id="Minutewrapper"><ul></ul></div><div id="Secondwrapper"><ul></ul></div></div></section><footer id="dateFooter"><div id="setcancle"><ul><li id="dateconfirm" class="btn btn-orange btn-block btn-round">\u786e\u5b9a</li><li id="datecancle" class="btn btn-empty btn-block btn-round">\u53d6\u6d88</li></ul></div></footer></div>';a("#datePlugin").html(b)}function N(){a("body, html").css({overflow:"hidden",height:"100%"}),a("#datePage").css("height","380px"),a("#datePage").css("bottom","0"),a("#yearwrapper").css("position","absolute"),a("#yearwrapper").css("bottom","200px"),a("#monthwrapper").css("position","absolute"),a("#monthwrapper").css("bottom","200px"),a("#daywrapper").css("position","absolute"),a("#daywrapper").css("bottom","200px")}function O(){for(var a="<li>&nbsp;</li>",b=A.beginyear;b<=A.endyear;b++)a+="<li>"+b+"\u5e74</li>";return a+"<li>&nbsp;</li>"}function P(){for(var a="<li>&nbsp;</li>",b=A.beginmonth;b<=A.endmonth;b++)10>b&&(b="0"+b),a+="<li>"+b+"\u6708</li>";return a+"<li>&nbsp;</li>"}function Q(){a("#daywrapper ul").html("");for(var b="<li>&nbsp;</li>",c=A.beginday;c<=A.endday;c++)b+="<li>"+c+"\u65e5</li>";return b+"<li>&nbsp;</li>"}function R(){for(var a="<li>&nbsp;</li>",b=A.beginhour;b<=A.endhour;b++)a+="<li>"+b+"\u65f6</li>";return a+"<li>&nbsp;</li>"}function S(){for(var a="<li>&nbsp;</li>",b=A.beginminute;b<=A.endminute;b++)10>b&&(b="0"+b),a+="<li>"+b+"\u5206</li>";return a+"<li>&nbsp;</li>"}function T(){var a="<li>&nbsp;</li>";return a+="<li>\u4e0a\u5348</li><li>\u4e0b\u5348</li>",a+"<li>&nbsp;</li>"}var e=a(this),f=a(this).is("input"),g=!1,h=new Date,i=1,j=1,k=1,l=1,m=1,n=0,o=parseInt((h.getYear()+"").substr(1,2)),p=parseInt(h.getMonth()+"")+1,q=parseInt(h.getDate()+""),r=parseInt(h.getHours()),s=parseInt(h.getMinutes()),u=(parseInt(h.getYear()),null),v=null,w=null,x=null,y=null,z=null;a.fn.date.defaultOptions={beginyear:2e3,endyear:2050,beginmonth:1,endmonth:12,beginday:1,endday:31,beginhour:1,endhour:12,beginminute:0,endminute:59,curdate:!0,theme:"date",mode:null,event:"click",show:!0};var A=a.extend(!0,{},a.fn.date.defaultOptions,b);"datetime"===A.theme&&(g=!0),A.show?e.bind(A.event,function(){L(),H(),G(),e.blur(),g&&(I(),C()),B(),F()}):e.unbind("click")}}(jQuery);