!function(a,b){var c='<% for (var i=0, len=left.length; i<len; i++) { %><a href="<%=left[i].url%>" class="ui-navigator-fix ui-navigator-fixleft"><%=left[i].text%></a><% } %><ul class="ui-navigator-list"><% for (var i=0, len=mid.length; i<len; i++) { %><li><a href="<%=mid[i].url%>"><%=mid[i].text%></a></li><% } %></ul><% for (var i=0, len=right.length; i<len; i++) { %><a href="<%=right[i].url%>" class="ui-navigator-fix ui-navigator-fixright"><%=right[i].text%></a><% } %>';a.ui.define("navigator",{_data:{container:"",content:[],defTab:0,beforetabselect:null,tabselect:null},_create:function(){var h,b=this,d=b._data,e=b.root(),f=a(d.container||document.body).get(0),g={left:[],mid:[],right:[]};a.each(d.content,function(){g[this.pos?this.pos:"mid"].push(this)}),h=a.parseTpl(c,g),e?(e.append(h),(!e.parent().length||f!==document.body)&&e.appendTo(f)):b.root(a("<div></div>").append(h)).appendTo(f)},_setup:function(b){var c=this,d=c._data,e=d.defTab,f=c.root();b||(f.children("a").addClass("ui-navigator-fix"),f.children("ul").addClass("ui-navigator-list")),f.find("a").each(function(b){0===e?a(this).hasClass("cur")&&(d.defTab=b):a(this).removeClass("cur")})},_init:function(){var b=this,c=b._data,d=b.root(),e=c.content,f=d.find("a");f.each(function(b){this.index=b,e.length&&e[b].attr&&a(this).attr(e[b].attr)}),c._$tabList=f,c._lastIndex=-1,d.addClass("ui-navigator").on("click",a.proxy(b._switchTabHandler,b)),b.switchTo(c.defTab,!0)},_switchTabHandler:function(b){var c=this,d=b.target;return a(d).closest("a").get(0)&&c.switchTo(d.index,!1,b),c},switchTo:function(b,c,d){var e=this,f=e._data,g=f._lastIndex,h=f._$tabList,i=a.Event("beforetabselect");return e.trigger(i,[h[b]]),i.defaultPrevented?(d&&d.preventDefault(),e):g==b?(d&&d.preventDefault(),e):(g>=0&&h.eq(g).removeClass("cur"),h.eq(b).addClass("cur"),f._lastIndex=b,e.trigger("tabselect",[h.get(b),b]))},getCurTab:function(){var a=this,b=a._data,c=b._lastIndex;return{index:c,info:b._$tabList[c]}}})}(Zepto);